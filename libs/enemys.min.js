function enemys(){}enemys.prototype.init=function(){this.enemys={greenSlime:{name:"绿头怪",hp:100,atk:120,def:0,money:1,experience:0,special:0},redSlime:{name:"红头怪",hp:0,atk:0,def:0,money:0,experience:0,special:0},blackSlime:{name:"青头怪",hp:0,atk:0,def:0,money:0,experience:0,special:0},slimelord:{name:"怪王",hp:100,atk:120,def:0,money:10,experience:0,special:9},bat:{name:"小蝙蝠",hp:100,atk:120,def:0,money:2,experience:0,special:1},bigBat:{name:"大蝙蝠",hp:0,atk:0,def:0,money:0,experience:0,special:0},redBat:{name:"红蝙蝠",hp:100,atk:120,def:0,money:5,experience:0,special:4},vampire:{name:"冥灵魔王",hp:0,atk:0,def:0,money:0,experience:0,special:0},skeleton:{name:"骷髅人",hp:0,atk:0,def:0,money:0,experience:0,special:0},skeletonSoilder:{name:"骷髅士兵",hp:0,atk:0,def:0,money:0,experience:0,special:0},skeletonCaptain:{name:"骷髅队长",hp:0,atk:0,def:0,money:0,experience:0,special:0},ghostSkeleton:{name:"冥队长",hp:100,atk:120,def:0,money:8,experience:0,special:7},zombie:{name:"兽人",hp:0,atk:0,def:0,money:0,experience:0,special:0},zombieKnight:{name:"兽人武士",hp:0,atk:0,def:0,money:0,experience:0,special:0},rock:{name:"石头人",hp:100,atk:120,def:0,money:4,experience:0,special:3},slimeMan:{name:"影子战士",hp:100,atk:0,def:0,money:11,experience:0,special:10},bluePriest:{name:"初级法师",hp:100,atk:120,def:0,money:3,experience:0,special:2},redPriest:{name:"高级法师",hp:0,atk:0,def:0,money:0,experience:0,special:0},brownWizard:{name:"初级巫师",hp:100,atk:120,def:0,money:16,experience:0,special:15,value:100},redWizard:{name:"高级巫师",hp:1000,atk:1200,def:0,money:160,experience:0,special:15,value:200},yellowGuard:{name:"初级卫兵",hp:100,atk:120,def:0,money:10,experience:0,special:0},blueGuard:{name:"中级卫兵",hp:0,atk:0,def:0,money:0,experience:0,special:0},redGuard:{name:"高级卫兵",hp:0,atk:0,def:0,money:0,experience:0,special:0},swordsman:{name:"双手剑士",hp:100,atk:120,def:0,money:6,experience:0,special:5},soldier:{name:"冥战士",hp:0,atk:0,def:0,money:0,experience:0,special:0},yellowKnight:{name:"金骑士",hp:0,atk:0,def:0,money:0,experience:0,special:0},redKnight:{name:"红骑士",hp:0,atk:0,def:0,money:0,experience:0,special:0},darkKnight:{name:"黑骑士",hp:0,atk:0,def:0,money:0,experience:0,special:0},blackKing:{name:"黑衣魔王",hp:1000,atk:500,def:0,money:1000,experience:1000,special:0,bomb:false},yellowKing:{name:"黄衣魔王",hp:0,atk:0,def:0,money:0,experience:0,special:0},greenKing:{name:"青衣武士",hp:0,atk:0,def:0,money:0,experience:0,special:0},blueKnight:{name:"蓝骑士",hp:100,atk:120,def:0,money:9,experience:0,special:8},goldSlime:{name:"黄头怪",hp:0,atk:0,def:0,money:0,experience:0,special:0},poisonSkeleton:{name:"紫骷髅",hp:0,atk:0,def:0,money:0,experience:0,special:0},poisonBat:{name:"紫蝙蝠",hp:100,atk:120,def:0,money:14,experience:0,special:13},steelRock:{name:"铁面人",hp:0,atk:0,def:0,money:0,experience:0,special:0},skeletonPriest:{name:"骷髅法师",hp:0,atk:0,def:0,money:0,experience:0,special:0},skeletonKing:{name:"骷髅王",hp:0,atk:0,def:0,money:0,experience:0,special:0},skeletonWizard:{name:"骷髅巫师",hp:0,atk:0,def:0,money:0,experience:0,special:0},redSkeletonCaption:{name:"骷髅武士",hp:0,atk:0,def:0,money:0,special:0},badHero:{name:"迷失勇者",hp:0,atk:0,def:0,money:0,experience:0,special:0},demon:{name:"魔神武士",hp:0,atk:0,def:0,money:0,experience:0,special:0},demonPriest:{name:"魔神法师",hp:0,atk:0,def:0,money:0,experience:0,special:0},goldHornSlime:{name:"金角怪",hp:0,atk:0,def:0,money:0,experience:0,special:0},redKing:{name:"红衣魔王",hp:0,atk:0,def:0,money:0,experience:0,special:0},whiteKing:{name:"白衣武士",hp:100,atk:120,def:0,money:17,experience:0,special:16},blackMagician:{name:"黑暗大法师",hp:100,atk:120,def:0,money:12,experience:0,special:11,value:1/3},silverSlime:{name:"银头怪",hp:100,atk:120,def:0,money:15,experience:0,special:14},swordEmperor:{name:"剑圣",hp:0,atk:0,def:0,money:0,experience:0,special:0},whiteHornSlime:{name:"尖角怪",hp:0,atk:0,def:0,money:0,experience:0,special:0},badPrincess:{name:"痛苦魔女",hp:0,atk:0,def:0,money:0,experience:0,special:0},badFairy:{name:"黑暗仙子",hp:0,atk:0,def:0,money:0,experience:0,special:0},grayPriest:{name:"中级法师",hp:0,atk:0,def:0,money:0,experience:0,special:0},redSwordsman:{name:"剑王",hp:100,atk:120,def:0,money:7,experience:0,special:6},whiteGhost:{name:"水银战士",hp:0,atk:0,def:0,money:0,experience:0,special:0},poisonZombie:{name:"绿兽人",hp:100,atk:120,def:0,money:13,experience:0,special:12},magicDragon:{name:"魔龙",hp:0,atk:0,def:0,money:0,experience:0,special:0},octopus:{name:"血影",hp:0,atk:0,def:0,money:0,experience:0,special:0},fairy:{name:"仙子",hp:0,atk:0,def:0,money:0,experience:0,special:0},greenKnight:{name:"强盾骑士",hp:0,atk:0,def:0,money:0,experience:0,special:0},}};enemys.prototype.getEnemys=function(a){if(a==undefined){return this.enemys}return this.enemys[a]};enemys.prototype.getSpecialText=function(a){if(a==undefined){return""}var b=this.enemys[a].special;if(b==1){return"先攻"}if(b==2){return"魔攻"}if(b==3){return"坚固"}if(b==4){return"2连击"}if(b==5){return"3连击"}if(b==6){return"4连击"}if(b==7){return"破甲"}if(b==8){return"反击"}if(b==9){return"净化"}if(b==10){return"模仿"}if(b==11){return"吸血"}if(b==12){return"中毒"}if(b==13){return"衰弱"}if(b==14){return"诅咒"}if(b==15){return"领域"}if(b==16){return"夹击"}return""};enemys.prototype.getDamage=function(k){var j=core.material.enemys[k];var c=core.status.hero.atk,d=core.status.hero.def,e=core.status.hero.mdef;var h=j.hp,f=j.atk,g=j.def,i=j.special;var a=this.calDamage(c,d,e,h,f,g,i);if(a==999999999){return a}var b=0;if(j.special==11){b=core.status.hero.hp*j.value;b=parseInt(b)}return a+b};enemys.prototype.getCritical=function(e){var d=core.material.enemys[e];if(d.special==3||d.special==10){return"???"}var c=this.calDamage(core.status.hero.atk,core.status.hero.def,core.status.hero.mdef,d.hp,d.atk,d.def,d.special);if(c==0){return 0}for(var b=core.status.hero.atk+1;b<=d.hp+d.def;b++){var a=this.calDamage(b,core.status.hero.def,core.status.hero.mdef,d.hp,d.atk,d.def,d.special);if(a<c){return b-core.status.hero.atk}c=a}return 0};enemys.prototype.getCriticalDamage=function(e){var a=this.getCritical(e);if(a=="???"){return"???"}if(a==0){return 0}var d=core.material.enemys[e];var b=this.calDamage(core.status.hero.atk,core.status.hero.def,core.status.hero.mdef,d.hp,d.atk,d.def,d.special);if(b==999999999){return"???"}return b-this.calDamage(core.status.hero.atk+a,core.status.hero.def,core.status.hero.mdef,d.hp,d.atk,d.def,d.special)};enemys.prototype.getDefDamage=function(b){var a=core.material.enemys[b];return this.calDamage(core.status.hero.atk,core.status.hero.def,core.status.hero.mdef,a.hp,a.atk,a.def,a.special)-this.calDamage(core.status.hero.atk,core.status.hero.def+1,core.status.hero.mdef,a.hp,a.atk,a.def,a.special)};enemys.prototype.calDamage=function(c,d,e,h,f,g,i){if(i==2){d=0}if(i==3&&g<c-1){g=c-1}if(i==10){f=c;g=d}if(c<=g){return 999999999}var j=f-d;if(j<0){j=0}if(i==4){j*=2}if(i==5){j*=3}if(i==6){j*=4}if(i==8){j+=parseInt(0.1*c)}var b=i==1?j:0;if(i==7){b=parseInt(0.9*d)}if(i==9){b=3*e}var k=parseInt((h-1)/(c-g));var a=b+k*j;a-=e;return a<=0?0:a};enemys.prototype.getCurrentEnemys=function(){var c=[];var i={};var d=core.status.thisMap.blocks;for(var a=0;a<d.length;a++){if(core.isset(d[a].event)&&!(core.isset(d[a].enable)&&!d[a].enable)&&d[a].event.cls=="enemys"){var h=d[a].event.id;if(core.isset(i[h])){continue}var g=core.material.enemys[h];var e=g.atk,f=g.def;if(g.special==3&&f<core.status.hero.atk-1){f=core.status.hero.atk-1}if(g.special==10){e=core.status.hero.atk;f=core.status.hero.def}c.push({id:h,name:g.name,hp:g.hp,atk:e,def:f,money:g.money,experience:g.experience,special:core.enemys.getSpecialText(h),damage:this.getDamage(h),critical:this.getCritical(h),criticalDamage:this.getCriticalDamage(h),defDamage:this.getDefDamage(h)});i[h]=true}}c.sort(function(j,k){if(j.damage==k.damage){return j.money-k.money}return j.damage-k.damage});return c};main.instance.enemys=new enemys();